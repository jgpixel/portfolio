import Component from '../Component.js';

export default class WebsiteLoader extends Component {
    constructor(props, root) {
        super(props, root);
        this.#render();
    }

    #render() {
        document.body.className = 'no-scroll';

        const overlay = document.createElement('div');
        overlay.className = 'overlay';

        const overlayContent = document.createElement('div');
        overlayContent.className = 'overlay-content';

        const jgLogo = `
            <svg width="171" height="77" viewBox="0 0 171 77" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path class='j' d="M31.4 74.1C24 74.1 17.7667 72.2667 12.7 68.6C7.7 64.8667 4.13333 59.5 2 52.5L17.9 46.6C19.2333 50.6667 21 53.6667 23.2 55.6C25.4 57.5333 28.1667 58.5 31.5 58.5C35.2333 58.5 38.2667 57.2667 40.6 54.8C42.9333 52.3333 44.1 49.1 44.1 45.1V3.1H61.3V45.6C61.3 51.2667 60.0333 56.2333 57.5 60.5C55.0333 64.7667 51.5667 68.1 47.1 70.5C42.6333 72.9 37.4 74.1 31.4 74.1Z" stroke="white" stroke-width="2"/>
                <path class='g' d="M106.92 74.2C101.654 74.2 96.7536 73.3 92.2203 71.5C87.687 69.6333 83.687 67.0667 80.2203 63.8C76.8203 60.4667 74.1536 56.6333 72.2203 52.3C70.3536 47.9 69.4203 43.1667 69.4203 38.1C69.4203 33.0333 70.3536 28.3333 72.2203 24C74.1536 19.6 76.787 15.7667 80.1203 12.5C83.5203 9.16667 87.487 6.6 92.0203 4.8C96.5537 2.93333 101.42 2 106.62 2C112.554 2 118.154 3.23333 123.42 5.7C128.687 8.1 132.987 11.4333 136.32 15.7L124.22 26.6C121.954 23.6667 119.32 21.4667 116.32 20C113.387 18.5333 110.154 17.8 106.62 17.8C103.82 17.8 101.22 18.3333 98.8203 19.4C96.487 20.4 94.4203 21.8 92.6203 23.6C90.887 25.4 89.5203 27.5333 88.5203 30C87.587 32.4667 87.1203 35.1667 87.1203 38.1C87.1203 41.0333 87.6203 43.7667 88.6203 46.3C89.6203 48.7667 91.0203 50.9333 92.8203 52.8C94.687 54.6 96.8203 56.0333 99.2203 57.1C101.687 58.1 104.354 58.6 107.22 58.6C109.954 58.6 112.42 58.1333 114.62 57.2C116.887 56.2667 118.82 54.9667 120.42 53.3C122.02 51.6333 123.154 49.7333 123.82 47.6H104.92V32.7H142.42V37.7C142.42 42.9667 141.52 47.8333 139.72 52.3C137.987 56.7 135.52 60.5667 132.32 63.9C129.187 67.1667 125.454 69.7 121.12 71.5C116.787 73.3 112.054 74.2 106.92 74.2Z" stroke="white" stroke-width="2"/>
                <path class='dot' d="M159.3 74.6C156.767 74.6 154.567 73.7 152.7 71.9C150.9 70.0333 150 67.8333 150 65.3C150 62.7667 150.9 60.6 152.7 58.8C154.567 56.9333 156.767 56 159.3 56C161.833 56 164 56.9333 165.8 58.8C167.667 60.6 168.6 62.7667 168.6 65.3C168.6 67.8333 167.667 70.0333 165.8 71.9C164 73.7 161.833 74.6 159.3 74.6Z" stroke="#FF656F" stroke-width="2"/>
            </svg>
        `;

        this.root.appendChild(overlay);
        overlay.appendChild(overlayContent);
        overlayContent.innerHTML = jgLogo;

        setTimeout(() => {
            overlay.classList.add('fade-out-overlay');
            document.body.classList.remove('no-scroll');

            setTimeout(() => {
                overlay.remove();
            }, 410);
        }, this.props.animationDuration);
    }
}